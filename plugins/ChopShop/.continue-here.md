---
plugin: ChopShop
stage: 0
phase: null
status: complete
last_updated: 2025-12-09
complexity_score: 5.0
phased_implementation: true
orchestration_mode: true
next_action: invoke_foundation_shell_agent
next_phase: null
latest_mockup_version: 1
mockup_finalized: false
contract_checksums:
  creative_brief: sha256:b489a30a1f2c34eb9de99599c439d5b88262e8f2f9418da8b6a10a94aa4ae2ee
  architecture: sha256:cf61c414e1427f416c0594c364bdc16b1cd3c348da53c1b8ce2c3a31c49428bc
  plan: sha256:ccc5b23f8c5bb1a3252e58638efaec5804b0809ae64de5751131e3ebdef81702
---

# Resume Point

## Current State: Stage 0 - Research & Planning Complete

DSP architecture documented and implementation plan created. Ready to proceed to implementation.

## Completed So Far

**Ideation:** ✓ Complete
- Core concept defined (precision stutter-glitch processor)
- Parameters specified (8 main parameters)
- Effect chain architecture (reorderable: stutter/pitch/speed/reverse)
- Trigger modes defined (always-on, MIDI, threshold)
- Use cases identified (drums, breakbeats, one-shots)
- Inspirations captured (Venetian Snares, Aphex Twin, dBlue Glitch)

**UI Mockup v1:** ✓ Complete
- Aesthetic: "Junkyard Wars meets The Jetsons"
- 650x300px wide horizontal layout
- Weathered metal with patina green finish
- Atomic age colors (turquoise, orange) + copper/brass accents
- Early 1900s bakelite-era knobs
- Modular patch-bay cable visualization
- All WebView constraints validated
- Interactive browser test created

**Stage 0 (Research & Planning):** ✓ Complete
- Plugin type defined: Audio Effect (Stutter/Glitch)
- Professional examples researched: 4 (dBlue Glitch 2, Effectrix 2, Stutter Edit 2, DFX Buffer Override)
- JUCE modules identified: juce::AudioPlayHead, juce::MidiBuffer, juce::dsp::DryWetMixer, custom implementations
- DSP feasibility verified: Granular synthesis for pitch/speed, dual envelope follower for transient detection
- Parameter ranges researched: 8 parameters defined
- Complexity score: 5.0 (COMPLEX - phased implementation required)
- Strategy: Phase-based implementation (3 DSP phases, 2 GUI phases)
- Architecture documented: plugins/ChopShop/.ideas/architecture.md
- Plan documented: plugins/ChopShop/.ideas/plan.md
- Total estimated time: 13.5-15.5 hours

## Next Steps

1. Stage 1: Foundation + Shell (create build system and parameters) - Run /implement ChopShop
2. Review architecture.md and plan.md
3. Pause here for user confirmation before proceeding to implementation

## Context to Preserve

**Key Decisions:**
- Plugin type: Audio Effect (Stutter/Glitch)
- Core concept: Controlled chaos - maximum capability with precision control
- Target use: Drums and one-shot samples
- Stutter rate: Single knob sweeping 1/1 to 1/64 divisions
- Pitch/Speed: Independent controls with link option
- Effect chain: User-reorderable signal flow
- Trigger modes: Always-on / MIDI / Transient threshold

**Design Aesthetic:**
- Retro-futuristic junkyard (Junkyard Wars + The Jetsons)
- Weathered metal, patina greens, copper/brass hardware
- Atomic age accents (turquoise #5bc0be, orange #ff6b35)
- Bakelite-era knobs with brass indicators
- Exposed rivets, googie curves
- Modular patch-bay style effect chain

**Files Created:**
- plugins/ChopShop/.ideas/creative-brief.md
- plugins/ChopShop/.ideas/mockups/v1-ui.yaml
- plugins/ChopShop/.ideas/mockups/v1-ui-test.html
- plugins/ChopShop/.ideas/architecture.md
- plugins/ChopShop/.ideas/plan.md

**Research References:**
- dBlue Glitch 2 (illformed) - Classic stutter/glitch plugin
- Effectrix 2 (Sugar Bytes) - Step-sequenced multi-effect
- Stutter Edit 2 (iZotope/BT) - MIDI-triggered gesture stutter
- DFX Buffer Override (Destroy FX) - Buffer-based stutter

**Architecture Highlights:**
- 5 complex DSP components: Stutter engine, pitch shift, speed/time-stretch, transient detection, reorderable chain
- Granular synthesis for pitch shifting (MEDIUM complexity, acceptable artifacts for glitch effect)
- Dual envelope follower for threshold-independent transient detection
- Reorderable effect chain with string parameter (chainOrder)
- Three trigger modes: Always, MIDI, Threshold
- Linked/independent pitch/speed modes (tape-style vs professional)

**Implementation Risks:**
- Pitch shifting is highest risk (50% of project risk) - granular artifacts, CPU usage
- Tempo sync reliability varies by host - requires BPM fallback
- Reorderable chain has 24 possible permutations - test thoroughly
- Buffer allocation: ~1.8MB worst case (4 bars at 40 BPM @ 192kHz)
