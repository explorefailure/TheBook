# ChopShop v3 UI Design Specification
# Generated: 2025-12-05
# Evolution: v2 retro-futuristic -> v3 INDUSTRIAL DECAY
# Aesthetic: Weathered steel with rust stains + Shadow Hills glossy knobs + Eurorack Neutrik jacks
# Inspiration: Rusty salvage bolts, black Neutrik hex jacks with red backing, Shadow Hills gloss bakelite

window:
  width: 650
  height: 350
  resizable: false

colors:
  # Weathered Steel Panel
  background: "#4a4a4a"  # Mid-gray steel
  panel_dark: "#3d3d3d"  # Shadow areas
  panel_light: "#5c5c5c"  # Highlight areas

  # Rust Stains (orange-brown bleeding)
  rust_primary: "#8b4513"  # Sienna rust
  rust_light: "#a0522d"  # Light rust bleeding
  rust_accent: "#cd853f"  # Peru rust highlights

  # Shadow Hills Glossy Knobs
  knob_body: "#0d0d0d"  # Deep glossy black bakelite
  knob_highlight: "#3d3d3d"  # Gloss reflection
  knob_indicator: "#f5f5f5"  # White pointer

  # Eurorack Neutrik Jacks
  jack_housing: "#1a1a1a"  # Black hex nut
  jack_housing_edge: "#2d2d2d"  # Hex edges
  jack_contact: "#d4af37"  # Gold center contact
  jack_backing: "#8b0000"  # Deep red backing plate
  jack_backing_light: "#a52a2a"  # Red highlight

  # LED Indicators (Shadow Hills green)
  led_active: "#00ff00"  # Bright glowing green
  led_active_core: "#32cd32"  # Lime green core
  led_inactive: "#228b22"  # Forest green off state

  # Text
  text_primary: "#e8e8e8"  # Off-white labels
  text_accent: "#ff4444"  # Red accent text
  text_stencil: "#d0d0d0"  # Industrial stencil color

typography:
  header: "'Helvetica Neue', 'Arial', sans-serif"  # Industrial sans-serif
  body: "'Helvetica', 'Arial', sans-serif"
  stencil: "'Courier New', monospace"
  size:
    large: "16px"
    medium: "12px"
    small: "10px"
    tiny: "8px"

layout:
  type: modular-patch-bay
  description: "Top: modular patch bay with Neutrik jacks. Center: Shadow Hills hero knob. Bottom: global controls. Weathered steel with rust stain details."

# MODULAR PATCH BAY SECTION (top)
patch_bay:
  position: {x: 15, y: 50}
  size: {width: 620, height: 80}

  # Global I/O jacks (Neutrik style with red backing plates)
  global_jacks:
    - id: main_in
      label: "IN"
      position: {x: 30, y: 30}
      type: input
      style: neutrik_jack

    - id: main_out
      label: "OUT"
      position: {x: 590, y: 30}
      type: output
      style: neutrik_jack

  # Effect modules with Neutrik jacks and mini Shadow Hills knobs
  modules:
    - id: stutter_module
      label: "STUTTER"
      position: {x: 120, y: 15}
      size: {width: 90, height: 60}
      input_jack: {x: 10, y: 30}
      output_jack: {x: 80, y: 30}
      mini_control:
        type: knob
        parameter: stutter_intensity
        label: "ENABLE"
        position: {x: 35, y: 18}
        size: {diameter: 24}
        range: [0.0, 1.0]
        default: 1.0
        style: shadow_hills_mini

    - id: pitch_module
      label: "PITCH"
      position: {x: 230, y: 15}
      size: {width: 90, height: 60}
      input_jack: {x: 10, y: 30}
      output_jack: {x: 80, y: 30}
      mini_control:
        type: knob
        parameter: pitch_shift
        label: "ST"
        position: {x: 35, y: 18}
        size: {diameter: 24}
        range: [-24.0, 24.0]
        default: 0.0
        style: shadow_hills_mini

    - id: speed_module
      label: "SPEED"
      position: {x: 340, y: 15}
      size: {width: 90, height: 60}
      input_jack: {x: 10, y: 30}
      output_jack: {x: 80, y: 30}
      mini_control:
        type: knob
        parameter: speed
        label: "%"
        position: {x: 35, y: 18}
        size: {diameter: 24}
        range: [50.0, 200.0]
        default: 100.0
        style: shadow_hills_mini

    - id: reverse_module
      label: "REVERSE"
      position: {x: 450, y: 15}
      size: {width: 90, height: 60}
      input_jack: {x: 10, y: 30}
      output_jack: {x: 80, y: 30}
      mini_control:
        type: knob
        parameter: reverse_mix
        label: "MIX"
        position: {x: 35, y: 18}
        size: {diameter: 24}
        range: [0.0, 100.0]
        default: 100.0
        style: shadow_hills_mini

  # Default cable connections
  default_cables:
    - id: cable_1
      from: main_in
      to: stutter_module.input
      color: "#666666"  # Dark gray cable

    - id: cable_2
      from: stutter_module.output
      to: pitch_module.input
      color: "#8b4513"  # Rust-colored cable

    - id: cable_3
      from: pitch_module.output
      to: speed_module.input
      color: "#666666"

    - id: cable_4
      from: speed_module.output
      to: reverse_module.input
      color: "#8b4513"

    - id: cable_5
      from: reverse_module.output
      to: main_out
      color: "#666666"

# CENTER SECTION - Hero Control (Shadow Hills style)
controls:
  # Stutter Rate - Large glossy black Shadow Hills knob
  - id: stutter_rate
    type: rotary-knob
    label: "STUTTER RATE"
    parameter: stutter_rate
    range: [0, 6]
    choices: ["1/1", "1/2", "1/4", "1/8", "1/16", "1/32", "1/64"]
    default: 3  # 1/8
    parameter_type: choice
    position: {x: 265, y: 155}
    size: {width: 120, height: 120}
    style: shadow_hills_hero
    label_position: bottom

# BOTTOM SECTION - Global Controls

  # Link Pitch/Speed Toggle
  - id: link_pitch_speed
    type: toggle
    label: "LINK P/S"
    parameter: link_pitch_speed
    default: false
    position: {x: 30, y: 280}
    size: {width: 50, height: 30}
    style: industrial_toggle

  # Trigger Mode - 3-way selector
  - id: trigger_mode
    type: combo-box
    label: "TRIGGER MODE"
    parameter: trigger_mode
    parameter_type: choice
    choices: ["Always", "MIDI", "Threshold"]
    default: 0
    position: {x: 100, y: 275}
    size: {width: 130, height: 35}
    style: industrial_selector

  # Threshold Knob (small Shadow Hills)
  - id: threshold
    type: rotary-knob
    label: "THRESHOLD"
    parameter: threshold
    range: [-60.0, 0.0]
    unit: "dB"
    default: -20.0
    decimals: 1
    position: {x: 460, y: 265}
    size: {width: 70, height: 70}
    style: shadow_hills_small
    label_position: bottom

  # Mix Knob (small Shadow Hills)
  - id: mix
    type: rotary-knob
    label: "MIX"
    parameter: mix
    range: [0.0, 100.0]
    unit: "%"
    default: 100.0
    decimals: 0
    position: {x: 550, y: 265}
    size: {width: 70, height: 70}
    style: shadow_hills_small
    label_position: bottom

special_elements:
  # Interactive modular cables
  - id: modular_cables
    type: cable-system
    description: "Draggable catenary curves connecting jacks"
    position: {x: 0, y: 0}
    size: {width: 650, height: 350}
    layer: cables
    interaction: drag-to-connect
    cable_style: catenary
    cable_thickness: 3
    cable_sag: 0.3
    cable_colors:
      - "#666666"  # Dark gray
      - "#8b4513"  # Rust brown

  # Weathered metal with rust stain texture
  - id: background_texture
    type: background
    layer: background
    description: "Weathered steel with orange-brown rust bleeding, oxidation patches"
    style: industrial_rust

  # Logo/Title (industrial stencil)
  - id: title
    type: label
    text: "CHOPSHOP"
    position: {x: 25, y: 15}
    size: {width: 200, height: 25}
    style: industrial_stencil
    font_size: 20

  # Rust stain decorative elements
  - id: rust_stains
    type: svg-overlay
    layer: decorative
    description: "Rust bleeding effects around bolts and edges"
    position: {x: 0, y: 0}
    size: {width: 650, height: 350}
    style: rust_decay

styling:
  knob_styles:
    shadow_hills_hero:
      diameter: 120
      body_color: "#0d0d0d"  # Deep glossy black
      highlight_color: "#3d3d3d"  # Gloss reflection at 30% 30%
      indicator_color: "#f5f5f5"  # White pointer
      indicator_style: white_line
      texture: glossy_bakelite
      shadow: deep_shadow
      gloss_effect: radial_gradient_highlight
      rotation_range: [-135, 135]
      scale_markings: true  # White scale text around knob

    shadow_hills_small:
      diameter: 70
      body_color: "#0d0d0d"
      highlight_color: "#3d3d3d"
      indicator_color: "#f5f5f5"
      indicator_style: white_line
      texture: glossy_bakelite
      shadow: deep_shadow
      gloss_effect: radial_gradient_highlight
      rotation_range: [-135, 135]
      scale_markings: false

    shadow_hills_mini:
      diameter: 24
      body_color: "#0d0d0d"
      highlight_color: "#3d3d3d"
      indicator_color: "#f5f5f5"
      indicator_style: white_dot
      texture: glossy_bakelite
      shadow: subtle_shadow
      gloss_effect: radial_gradient_highlight
      rotation_range: [-135, 135]
      scale_markings: false

  jack_styles:
    neutrik_jack:
      size: 24
      housing_shape: hexagon  # clip-path polygon
      housing_color: "#1a1a1a"  # Black hex nut
      housing_edge_color: "#2d2d2d"  # Conic gradient for hex facets
      contact_color: "#d4af37"  # Gold center
      contact_size: 6
      backing_plate: true
      backing_color: "#8b0000"  # Deep red backing
      backing_size: 32  # Larger than jack housing
      shadow: true

  toggle_styles:
    industrial_toggle:
      width: 50
      height: 30
      track_color: "#3d3d3d"
      active_color: "#00ff00"  # Glowing green LED
      inactive_color: "#666666"
      handle_color: "#1a1a1a"  # Black metal handle
      style: industrial_switch

  module_styles:
    patch_module:
      width: 90
      height: 60
      background: "#5c5c5c"  # Steel panel
      border_color: "#1a1a1a"  # Dark border
      border_width: 2
      text_color: "#e8e8e8"
      text_size: 9
      label_position: top_center
      rust_stains: true  # Add rust bleeding
      jack_color: "#1a1a1a"  # Black Neutrik jacks
      jack_size: 8

  selector_styles:
    industrial_selector:
      width: 130
      height: 35
      background: "#3d3d3d"
      border_color: "#1a1a1a"
      text_color: "#e8e8e8"
      arrow_color: "#ff4444"  # Red arrow
      dropdown_style: industrial

  cable_rendering:
    type: svg-quadratic-bezier
    sag_calculation: "control_y = start_y + (horizontal_distance * sag_factor)"
    sag_factor: 0.3
    stroke_width: 3
    stroke_linecap: round
    opacity: 0.85
    glow_on_hover: true
    glow_color: "#ffffff"
    glow_blur: 8
    click_tolerance: 8

  background_effects:
    rust_stains:
      # Elliptical rust bleeding patches
      stain_1:
        type: radial_gradient
        position: {x: 20%, y: 30%}
        size: {width: 80px, height: 60px}
        color: "#8b4513"
        opacity: 0.3
        blur: 0px

      stain_2:
        type: radial_gradient
        position: {x: 75%, y: 60%}
        size: {width: 100px, height: 80px}
        color: "#a0522d"
        opacity: 0.25
        blur: 0px

      stain_3:
        type: radial_gradient
        position: {x: 50%, y: 80%}
        size: {width: 60px, height: 40px}
        color: "#8b4513"
        opacity: 0.2
        blur: 0px

    weathering:
      # Metal noise texture overlay
      noise_texture: true
      noise_opacity: 0.15
      scratches: true
      scratch_opacity: 0.1

notes:
  - All positions in pixels from top-left (0,0)
  - Parameter IDs use snake_case for C++ compatibility
  - Patch bay modules positioned in top section (y: 50-130)
  - Hero control centered (x: 265, y: 155)
  - Bottom controls positioned below hero (y: 270+)
  - Shadow Hills knobs: glossy black bakelite with radial gradient gloss highlight at 30% 30%
  - Eurorack jacks: black hexagon housing with gold center contact and deep red backing plates
  - Rust stains: radial gradient ellipses in orange-brown tones, positioned organically
  - Background: weathered gray steel (#4a4a4a to #5c5c5c gradient) with rust bleeding
  - LED indicators: bright glowing green (#00ff00) like Shadow Hills
  - Typography: industrial sans-serif for labels, stencil monospace for title
  - Minimum spacing: 15px from edges, 10px between controls (enforced)
  - Aesthetic: Premium Shadow Hills knobs on weathered salvage steel - "high-end studio meets junkyard decay"
  - Color palette: Grayscale steel (no patina green), rust orange-brown, glossy black, red backing, gold contacts
